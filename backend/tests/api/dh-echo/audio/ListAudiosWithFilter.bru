meta {
  name: List Audios With Filter
  type: http
  seq: 5
}

get {
  url: {{baseUrl}}/audios?status=completed&page=1&limit=10
  body: none
  auth: bearer
}

auth:bearer {
  token: {{token}}
}

headers {
  Accept-Language: fr
}

tests {
  test("should return filtered audios", function() {
    const data = res.getBody();
    expect(res.getStatus()).to.equal(200);
    expect(data).to.have.property('data');
    expect(data.data).to.be.an('array');
  });

  test("all returned audios should have completed status", function() {
    const data = res.getBody();
    data.data.forEach(audio => {
      expect(audio.status).to.equal('completed');
    });
  });

  test("should respect limit parameter", function() {
    const data = res.getBody();
    expect(data.data.length).to.be.at.most(10);
    expect(data.meta.perPage).to.equal(10);
  });
}

docs {
  # List Audios With Filter

  Example of listing audios with status filter and pagination.

  **Query Parameters Used:**
  - `status=completed`: Only show completed audios
  - `page=1`: First page
  - `limit=10`: 10 items per page
}
